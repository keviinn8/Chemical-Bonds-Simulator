<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Atom.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">ChemistryProj</a> &gt; <a href="index.source.html" class="el_package">com.example.chemistryproj</a> &gt; <span class="el_source">Atom.java</span></div><h1>Atom.java</h1><pre class="source lang-java linenums">package com.example.chemistryproj;

import javafx.scene.control.Label;
import javafx.scene.input.MouseEvent;
import javafx.scene.layout.Pane;
import javafx.scene.paint.Color;
import javafx.scene.shape.Circle;
import javafx.scene.text.Font;
import javafx.scene.text.TextAlignment;
import java.util.ArrayList;
import lombok.Getter;


public class Atom extends Pane {

    public Circle nucleus;
<span class="nc" id="L17">    public String name = &quot;&quot;;</span>
    @Getter
    private Label elementLabel;
    @Getter
    private Circle[] valenceElectrons;
    private double mouseX;
    private double mouseY;
    private static final double NUCLEUS_RADIUS = 30.0;
    private static final double ELECTRON_RADIUS = 4.0;

<span class="nc" id="L27">    public Atom(ArrayList&lt;Atom&gt; atom) {</span>
<span class="nc bnc" id="L28" title="All 2 branches missed.">        for(Atom a: atom){</span>
<span class="nc" id="L29">            name = name + a.name;</span>
<span class="nc" id="L30">        }</span>
<span class="nc" id="L31">    }</span>

<span class="nc" id="L33">    public Atom(String elementSymbol) {</span>
<span class="nc" id="L34">        name = elementSymbol;</span>
<span class="nc" id="L35">        nucleus = new Circle(NUCLEUS_RADIUS, Color.BLACK);</span>
<span class="nc" id="L36">        getChildren().addAll(nucleus);</span>

<span class="nc" id="L38">        elementLabel = new Label(elementSymbol);</span>
<span class="nc" id="L39">        elementLabel.setFont(new Font(&quot;Times New Roman&quot;, 12));</span>
<span class="nc" id="L40">        elementLabel.setTextFill(Color.WHITE);</span>
<span class="nc" id="L41">        elementLabel.setTextAlignment(TextAlignment.CENTER);</span>
<span class="nc" id="L42">        elementLabel.setLayoutX(-4);</span>
<span class="nc" id="L43">        elementLabel.setLayoutY(-6);</span>
<span class="nc" id="L44">        getChildren().addAll(elementLabel);</span>

        // Add event handlers for mouse press, drag, and release
<span class="nc" id="L47">        setOnMousePressed(this::onMousePressed);</span>
<span class="nc" id="L48">        setOnMouseDragged(this::onMouseDragged);</span>
<span class="nc" id="L49">    }</span>

    private void onMousePressed(MouseEvent event) {
<span class="nc" id="L52">        mouseX = event.getSceneX();</span>
<span class="nc" id="L53">        mouseY = event.getSceneY();</span>
<span class="nc" id="L54">    }</span>

    private void onMouseDragged(MouseEvent event) {
<span class="nc" id="L57">        double deltaX = event.getSceneX() - mouseX;</span>
<span class="nc" id="L58">        double deltaY = event.getSceneY() - mouseY;</span>

        // Calculate the new position within the limits
<span class="nc" id="L61">        double newX = getLayoutX() + deltaX;</span>
<span class="nc" id="L62">        double newY = getLayoutY() + deltaY;</span>

        // Limit newX and newY within certain bounds
<span class="nc" id="L65">        double minX = NUCLEUS_RADIUS + ELECTRON_RADIUS; // Set your minimum x-coordinate limit</span>
<span class="nc" id="L66">        double minY = NUCLEUS_RADIUS + ELECTRON_RADIUS; // Set your minimum y-coordinate limit</span>
<span class="nc" id="L67">        double maxX = 590 - minX; // Set your maximum x-coordinate limit</span>
<span class="nc" id="L68">        double maxY = 256 - minY; // Set your maximum y-coordinate limit</span>

<span class="nc" id="L70">        newX = Math.min(Math.max(newX, minX), maxX);</span>
<span class="nc" id="L71">        newY = Math.min(Math.max(newY, minY), maxY);</span>

        // Update atom position
<span class="nc" id="L74">        relocate(newX, newY);</span>

<span class="nc" id="L76">        mouseX = event.getSceneX();</span>
<span class="nc" id="L77">        mouseY = event.getSceneY();</span>
<span class="nc" id="L78">    }</span>

    public static Atom createAtomFromElementSymbol(String elementSymbol) {
<span class="nc" id="L81">        int numberOfValenceElectrons = getNumberOfValenceElectrons(elementSymbol);</span>
<span class="nc" id="L82">        Atom atom = new Atom(elementSymbol);</span>
<span class="nc" id="L83">        atom.setValenceElectrons(numberOfValenceElectrons);</span>
<span class="nc" id="L84">        return atom;</span>
    }

    public void setValenceElectrons(int numberOfElectrons) {
<span class="nc" id="L88">        int[] angles = getPlacementOfElectrons(numberOfElectrons);</span>
<span class="nc" id="L89">        valenceElectrons = new Circle[numberOfElectrons];</span>
<span class="nc" id="L90">        double centerX = getWidth() / 2.0;</span>
<span class="nc" id="L91">        double centerY = getHeight() / 2.0;</span>

<span class="nc bnc" id="L93" title="All 2 branches missed.">        for (int i = 0; i &lt; numberOfElectrons; i++) {</span>
<span class="nc" id="L94">            double angle = angles[i];</span>
<span class="nc" id="L95">            double x = centerX + (NUCLEUS_RADIUS + ELECTRON_RADIUS) * Math.cos(Math.toRadians(angle));</span>
<span class="nc" id="L96">            double y = centerY + (NUCLEUS_RADIUS + ELECTRON_RADIUS) * Math.sin(Math.toRadians(angle));</span>
<span class="nc" id="L97">            Circle electron = new Circle(x, y, ELECTRON_RADIUS, Color.BLUE);</span>
<span class="nc" id="L98">            valenceElectrons[i] = electron;</span>
<span class="nc" id="L99">            getChildren().add(electron);</span>
        }
<span class="nc" id="L101">    }</span>

    public void removeElectronAtAngle(int angleIndexToRemove) {
<span class="nc bnc" id="L104" title="All 4 branches missed.">        if (valenceElectrons != null &amp;&amp; valenceElectrons.length &gt; 0) {</span>
<span class="nc bnc" id="L105" title="All 4 branches missed.">            if (angleIndexToRemove &gt;= 0 &amp;&amp; angleIndexToRemove &lt; valenceElectrons.length) {</span>
                // Remove the electron at the specified angle index
<span class="nc" id="L107">                getChildren().remove(valenceElectrons[angleIndexToRemove]);</span>
<span class="nc" id="L108">                valenceElectrons[angleIndexToRemove] = null;</span>
            } else {
<span class="nc" id="L110">                System.out.println(&quot;Invalid angle index.&quot;);</span>
            }
        }
<span class="nc" id="L113">    }</span>

    public static int getNumberOfValenceElectrons(String elementSymbol) {
<span class="nc bnc" id="L116" title="All 10 branches missed.">        return switch (elementSymbol) {</span>
<span class="nc" id="L117">            case &quot;H&quot;, &quot;Li&quot;, &quot;Na&quot;, &quot;K&quot; -&gt; 1;</span>
<span class="nc" id="L118">            case &quot;Be&quot;, &quot;Mg&quot;, &quot;Ca&quot; -&gt; 2;</span>
<span class="nc" id="L119">            case &quot;B&quot;, &quot;Al&quot;, &quot;Ga&quot; -&gt; 3;</span>
<span class="nc" id="L120">            case &quot;C&quot;, &quot;Si&quot;, &quot;Ge&quot; -&gt; 4;</span>
<span class="nc" id="L121">            case &quot;N&quot;, &quot;P&quot;, &quot;As&quot; -&gt; 5;</span>
<span class="nc" id="L122">            case &quot;O&quot;, &quot;S&quot;, &quot;Se&quot; -&gt; 6;</span>
<span class="nc" id="L123">            case &quot;F&quot;, &quot;Cl&quot;, &quot;Br&quot; -&gt; 7;</span>
<span class="nc" id="L124">            case &quot;Ne&quot;, &quot;Ar&quot;, &quot;Kr&quot; -&gt; 8;</span>
<span class="nc" id="L125">            case &quot;He&quot; -&gt; 9;</span>
<span class="nc" id="L126">            default -&gt; 0;</span>
        };
    }

    public int[] getPlacementOfElectrons(int numberOfElectrons){
<span class="nc bnc" id="L131" title="All 7 branches missed.">        return switch (numberOfElectrons){</span>
<span class="nc" id="L132">            case 1,2,3,4 -&gt; new int[]{0, 180, 90, 270};</span>
<span class="nc" id="L133">            case 5 -&gt; new int[]{0, 90, 180, 265, 275};</span>
<span class="nc" id="L134">            case 6 -&gt; new int[]{0, 85, 180, 265, 275, 95};</span>
<span class="nc" id="L135">            case 7 -&gt; new int[]{5, 85, 180, 265, 275, 95, 355};</span>
<span class="nc" id="L136">            case 8 -&gt; new int[]{5, 85, 175, 265, 275, 95, 355, 185};</span>
<span class="nc" id="L137">            case 9 -&gt; new int[]{265, 275, 265, 275, 265, 275, 265, 275, 265};</span>
<span class="nc" id="L138">            default -&gt; new int[]{0};</span>
        };
    }

    public boolean isSelected(){
<span class="nc bnc" id="L143" title="All 2 branches missed.">        if(nucleus.getFill() == Color.GREEN){</span>
<span class="nc" id="L144">            return true;</span>
        }
<span class="nc" id="L146">        return false;</span>
    }

    public int getAtomGroup(String elementSymbol) {
<span class="nc bnc" id="L150" title="All 5 branches missed.">        return switch (elementSymbol) {</span>
<span class="nc" id="L151">            case &quot;H&quot;, &quot;Li&quot;, &quot;Na&quot;, &quot;K&quot;, &quot;F&quot;, &quot;Cl&quot;, &quot;Br&quot; -&gt; 1;</span>
<span class="nc" id="L152">            case &quot;Be&quot;, &quot;Mg&quot;, &quot;Ca&quot;, &quot;O&quot;, &quot;S&quot;, &quot;Se&quot; -&gt; 2;</span>
<span class="nc" id="L153">            case &quot;B&quot;, &quot;Al&quot;, &quot;Ga&quot;, &quot;N&quot;, &quot;P&quot;, &quot;As&quot;  -&gt; 3;</span>
<span class="nc" id="L154">            case &quot;C&quot;, &quot;Si&quot;, &quot;Ge&quot; -&gt; 4;</span>
<span class="nc" id="L155">            default -&gt; 0;</span>
        };
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>